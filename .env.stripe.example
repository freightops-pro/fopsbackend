# ==============================================================================
# STRIPE BILLING CONFIGURATION
# ==============================================================================
# This file contains example Stripe configuration for FreightOps billing.
# Copy these variables to your main .env file and fill in your actual values.

# ------------------------------------------------------------------------------
# STRIPE MODE TOGGLE
# ------------------------------------------------------------------------------
# Set to "true" for production (live payments), "false" for development (test payments)
STRIPE_USE_LIVE_MODE=false

# ------------------------------------------------------------------------------
# STRIPE TEST MODE CREDENTIALS (Development/Staging)
# ------------------------------------------------------------------------------
# Get your test keys from: https://dashboard.stripe.com/test/apikeys
# These are used when STRIPE_USE_LIVE_MODE=false

# API Keys
STRIPE_TEST_SECRET_KEY=sk_test_your_test_secret_key_here
STRIPE_TEST_PUBLISHABLE_KEY=pk_test_your_test_publishable_key_here

# Webhook Secret (from Stripe Dashboard → Webhooks → Add endpoint)
# Test webhook endpoint: https://your-dev-domain.com/api/billing/webhook
STRIPE_TEST_WEBHOOK_SECRET=whsec_your_test_webhook_secret_here

# Product IDs (create in Stripe Dashboard → Products)
# Base Subscription Product
STRIPE_TEST_PRODUCT_ID=prod_test_base_subscription

# Add-on Products (JSON format)
STRIPE_TEST_ADDON_PRODUCTS={"port_integration": "prod_test_port_integration", "check_payroll": "prod_test_check_payroll"}

# ------------------------------------------------------------------------------
# STRIPE LIVE MODE CREDENTIALS (Production)
# ------------------------------------------------------------------------------
# Get your live keys from: https://dashboard.stripe.com/apikeys
# These are used when STRIPE_USE_LIVE_MODE=true
# ⚠️ NEVER commit live keys to version control!

# API Keys
STRIPE_LIVE_SECRET_KEY=sk_live_your_live_secret_key_here
STRIPE_LIVE_PUBLISHABLE_KEY=pk_live_your_live_publishable_key_here

# Webhook Secret (from Stripe Dashboard → Webhooks → Add endpoint)
# Live webhook endpoint: https://www.freightopspro.com/api/billing/webhook
STRIPE_LIVE_WEBHOOK_SECRET=whsec_your_live_webhook_secret_here

# Product IDs (create in Stripe Dashboard → Products)
# Base Subscription Product
STRIPE_LIVE_PRODUCT_ID=prod_live_base_subscription

# Add-on Products (JSON format)
STRIPE_LIVE_ADDON_PRODUCTS={"port_integration": "prod_live_port_integration", "check_payroll": "prod_live_check_payroll"}

# ==============================================================================
# QUICK START GUIDE
# ==============================================================================
# 1. Copy these variables to your .env file
# 2. For development:
#    - Set STRIPE_USE_LIVE_MODE=false
#    - Fill in STRIPE_TEST_* variables with test mode credentials
#    - Use test card: 4242 4242 4242 4242 (any future expiry, any CVC)
# 3. For production:
#    - Set STRIPE_USE_LIVE_MODE=true
#    - Fill in STRIPE_LIVE_* variables with live mode credentials
#    - Real payments will be processed!

# ==============================================================================
# CREATING STRIPE PRODUCTS
# ==============================================================================
# 1. Go to https://dashboard.stripe.com/products (or /test/products for test)
# 2. Click "Add product"
# 3. Create these products:
#
#    Base Subscription:
#    - Name: "FreightOps Base Subscription"
#    - Pricing: $49/month per unit (or $39/month for annual)
#    - Billing: Per-seat (truck count)
#
#    Port Integration Add-on:
#    - Name: "Port Integration Add-on"
#    - Pricing: $99/month
#    - Billing: Flat rate
#
#    Check Payroll Add-on:
#    - Name: "Check Payroll Add-on"
#    - Pricing: $39/month + $6 per employee
#    - Billing: Per-seat (employee count)
#
# 4. Copy product IDs (prod_...) to the variables above

# ==============================================================================
# WEBHOOK CONFIGURATION
# ==============================================================================
# 1. Go to https://dashboard.stripe.com/webhooks (or /test/webhooks)
# 2. Click "Add endpoint"
# 3. Enter your endpoint URL:
#    - Test: https://your-dev-domain.com/api/billing/webhook
#    - Live: https://www.freightopspro.com/api/billing/webhook
# 4. Select these events:
#    ☑ customer.subscription.updated
#    ☑ customer.subscription.deleted
#    ☑ invoice.payment_succeeded
#    ☑ invoice.payment_failed
#    ☑ customer.subscription.trial_will_end
# 5. Copy the webhook signing secret (whsec_...) to the variables above

# ==============================================================================
# TESTING
# ==============================================================================
# Use these test card numbers in Stripe test mode:
#
# Success:
# - 4242 4242 4242 4242 (Visa)
# - 5555 5555 5555 4444 (Mastercard)
# - Any future expiry date, any CVC
#
# Decline:
# - 4000 0000 0000 0002 (Generic decline)
# - 4000 0000 0000 9995 (Insufficient funds)
#
# 3D Secure:
# - 4000 0027 6000 3184 (Requires authentication)
