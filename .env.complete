# =============================================================================
# FreightOps Backend - Complete Production Configuration Template
# =============================================================================
# Copy this to .env and replace all CHANGE_ME values
# =============================================================================

# =============================================================================
# CRITICAL SETTINGS - System will not work without these
# =============================================================================

# Environment Configuration
ENVIRONMENT=production
DEBUG=False
LOG_LEVEL=INFO

# Database (NeonDB PostgreSQL) - ALREADY CONFIGURED
DATABASE_URL=postgresql+psycopg://neondb_owner:npg_5uN2QZBeqpKo@ep-purple-moon-ahj5tx9w-pooler.c-3.us-east-1.aws.neon.tech/neondb?sslmode=prefer&connect_timeout=10

# Security Keys (CRITICAL - Generate new keys)
# Generate with: openssl rand -hex 32
JWT_SECRET_KEY=CHANGE_ME_GENERATE_WITH_OPENSSL_RAND_HEX_32
# Generate with: openssl rand -base64 32
ENCRYPTION_KEY=CHANGE_ME_GENERATE_WITH_OPENSSL_RAND_BASE64_32
SSN_ENCRYPTION_KEY=CHANGE_ME_GENERATE_WITH_OPENSSL_RAND_BASE64_32

# AI Agent LLM Provider (CRITICAL - At least one required)
# Get free Groq key: https://console.groq.com/keys
GROQ_API_KEY=CHANGE_ME_GET_FROM_GROQ_CONSOLE
# Optional AWS Bedrock fallback:
# AWS_ACCESS_KEY_ID=AKIA_CHANGE_ME
# AWS_SECRET_ACCESS_KEY=CHANGE_ME
# AWS_REGION=us-east-1

# =============================================================================
# FILE STORAGE - Cloudflare R2 (ALREADY CONFIGURED)
# =============================================================================
R2_ACCOUNT_ID=820d291da2f9ff2bb76a312614c04b13
R2_ACCESS_KEY_ID=9362e71fb20da37dd5857d40fe84b1d0
R2_SECRET_ACCESS_KEY=63e2dcff14cfd748c0bf155e0f7bf3d37c15539c006b4198a26b9f46e8432532
R2_BUCKET_NAME=freightops-documents
R2_ENDPOINT_URL=https://820d291da2f9ff2bb76a312614c04b13.r2.cloudflarestorage.com

# =============================================================================
# AI OCR CONFIGURATION (ALREADY CONFIGURED)
# =============================================================================
AI_OCR_PROVIDER=gemini
GOOGLE_AI_API_KEY=AIzaSyBJeSsvOc1UcI0UF78Qfm6bMTuI0UNc1eE
ENABLE_AI_OCR=true

# =============================================================================
# BANKING MODULE - Required for banking features
# =============================================================================

# Synctera Banking API
# Sign up for sandbox at: https://synctera.com/sandbox
# Docs: https://dev.synctera.com/
SYNCTERA_API_KEY=CHANGE_ME
SYNCTERA_API_URL=https://api.synctera.com
SYNCTERA_ENVIRONMENT=sandbox
SYNCTERA_WEBHOOK_SECRET=CHANGE_ME

# Plaid External Bank Integration
# Sign up at: https://dashboard.plaid.com/signup
# Use sandbox for development (free, test credentials)
# Docs: https://plaid.com/docs/
PLAID_CLIENT_ID=CHANGE_ME
PLAID_SECRET=CHANGE_ME
PLAID_ENVIRONMENT=sandbox
# Generate encryption key with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
PLAID_ENCRYPTION_KEY=CHANGE_ME

# =============================================================================
# NOTIFICATIONS - Required for email/SMS
# =============================================================================

# Email Service (SendGrid)
SENDGRID_API_KEY=SG.CHANGE_ME
FROM_EMAIL=noreply@yourcompany.com
SUPPORT_EMAIL=support@yourcompany.com

# SMS Service (Twilio)
TWILIO_ACCOUNT_SID=AC_CHANGE_ME
TWILIO_AUTH_TOKEN=CHANGE_ME
TWILIO_PHONE_NUMBER=+1_CHANGE_ME

# =============================================================================
# BILLING MODULE - Required for Stripe integration
# =============================================================================

# Stripe Test Mode (Development)
STRIPE_TEST_SECRET_KEY=sk_test_CHANGE_ME
STRIPE_TEST_PUBLISHABLE_KEY=pk_test_CHANGE_ME
STRIPE_TEST_WEBHOOK_SECRET=whsec_CHANGE_ME

# Stripe Live Mode (Production)
STRIPE_LIVE_SECRET_KEY=sk_live_CHANGE_ME
STRIPE_LIVE_PUBLISHABLE_KEY=pk_live_CHANGE_ME
STRIPE_LIVE_WEBHOOK_SECRET=whsec_CHANGE_ME

# Switch between test/live mode
STRIPE_USE_LIVE_MODE=false

# =============================================================================
# HR & PAYROLL MODULE - Check HQ Integration
# =============================================================================
# Sign up at: https://checkhq.com
# API Documentation: https://docs.checkhq.com
# Sandbox Dashboard: https://sandbox.checkhq.com

# Your Check API Key (Bearer token)
# Get this from Check dashboard > Settings > API Keys
CHECK_API_KEY=CHANGE_ME

# Environment: "sandbox" for testing, "production" for live
CHECK_ENVIRONMENT=sandbox

# API Base URL (automatically set based on environment)
# Sandbox: https://sandbox.checkhq.com
# Production: https://api.checkhq.com
CHECK_API_BASE_URL=https://sandbox.checkhq.com

# =============================================================================
# CORS CONFIGURATION - Required for frontend access
# =============================================================================
CORS_ORIGINS=http://localhost:5173,http://localhost:3000,https://yourproductiondomain.com

# =============================================================================
# REGIONAL COMPLIANCE - Multi-Country Freight Operations
# =============================================================================
# IMPORTANT: Each carrier tenant provides their own credentials!
# These settings are PLATFORM-WIDE defaults only (endpoints, environments)
# Individual credentials are stored per-company in the database
# =============================================================================

# Default Region for New Companies
DEFAULT_OPERATING_REGION=usa

# Multi-Currency Exchange Rates (Platform-wide - optional)
# Get free API key from: https://exchangerate-api.com (1,500 free/month)
# OR carriers can provide rates manually - this is just a convenience
EXCHANGE_RATE_API_KEY=OPTIONAL_FREE_API_KEY
EXCHANGE_RATE_API_URL=https://api.exchangerate-api.com/v4/latest

# -----------------------------------------------------------------------------
# BRAZIL COMPLIANCE (Platform Configuration Only)
# -----------------------------------------------------------------------------
# NOTE: Each Brazilian carrier provides their own:
# - CNPJ (stored in brazil_company_data table)
# - RNTRC, ANTT registration (stored in brazil_company_data)
# - Digital certificate (.pfx) - uploaded via UI, stored encrypted
# - CIOT provider account (Pamcard/Repom) - they pay provider directly
# - FreightOps NEVER pays for these - carrier's responsibility
# -----------------------------------------------------------------------------

# SEFAZ API Endpoint (platform-wide setting)
BRAZIL_SEFAZ_ENVIRONMENT=homologation
BRAZIL_SEFAZ_API_URL=https://mdfe-homologacao.svrs.rs.gov.br/ws/MDFeRecepcaoSinc/MDFeRecepcaoSinc.asmx

# Security Alerts (platform feature - free)
BRAZIL_ENABLE_SECURITY_ALERTS=true

# -----------------------------------------------------------------------------
# MEXICO COMPLIANCE (Platform Configuration Only)
# -----------------------------------------------------------------------------
# NOTE: Each Mexican carrier provides their own:
# - RFC (stored in mexico_company_data table)
# - SCT permit (stored in mexico_company_data)
# - SAT digital certificate (.cer/.key) - uploaded via UI
# - FreightOps NEVER pays for these - carrier's responsibility
# -----------------------------------------------------------------------------

# SAT API Endpoint (platform-wide setting)
MEXICO_SAT_ENVIRONMENT=test
MEXICO_SAT_API_URL=https://pruebas.sat.gob.mx

# Security Alerts (platform feature - free)
MEXICO_ENABLE_GPS_JAMMER_ALERTS=true

# -----------------------------------------------------------------------------
# CANADA COMPLIANCE (Platform Configuration Only)
# -----------------------------------------------------------------------------
# NOTE: Each Canadian carrier provides their own:
# - NSC, CVOR numbers (stored in canada_company_data table)
# - IFTA registration (stored in canada_company_data)
# - ACE/ACI credentials - stored per-company, encrypted
# - FAST credentials - stored per-company if applicable
# - FreightOps NEVER pays for these - carrier's responsibility
# -----------------------------------------------------------------------------

# Government API Endpoints (platform-wide settings)
CANADA_ACE_API_URL=https://ace.cbp.dhs.gov
CANADA_ACI_API_URL=https://www.cbsa-asfc.gc.ca

# Platform Features (free)
CANADA_AUTO_FRENCH_DOCS=true

# =============================================================================
# OPTIONAL SETTINGS - Advanced features
# =============================================================================

# NeonDB Branching API (for agent database sandboxing)
# NEON_API_KEY=CHANGE_ME
# NEON_PROJECT_ID=CHANGE_ME

# Self-hosted LLM endpoint (future)
# SELF_HOSTED_LLM_ENDPOINT=http://localhost:8000

# QuickBooks Integration
# QUICKBOOKS_CLIENT_ID=CHANGE_ME
# QUICKBOOKS_CLIENT_SECRET=CHANGE_ME
# QUICKBOOKS_REDIRECT_URI=https://yourbackend.com/quickbooks/callback
# QUICKBOOKS_ENVIRONMENT=production

# ELD Integrations
# Samsara
# SAMSARA_CLIENT_ID=CHANGE_ME
# SAMSARA_CLIENT_SECRET=CHANGE_ME
# SAMSARA_API_URL=https://api.samsara.com

# Motive
# MOTIVE_API_KEY=CHANGE_ME
# MOTIVE_API_URL=https://api.gomotive.com

# Fuel Card Integrations
# WEX
# WEX_API_KEY=CHANGE_ME
# WEX_API_URL=https://api.wexinc.com

# Monitoring
# SENTRY_DSN=CHANGE_ME
# SENTRY_ENVIRONMENT=production

# =============================================================================
# HOW TO CONFIGURE (Quick Start)
# =============================================================================
#
# MINIMUM FOR AI AGENTS TO WORK:
# 1. Get free Groq API key: https://console.groq.com/keys
# 2. Set GROQ_API_KEY above
# 3. Generate JWT secret: openssl rand -hex 32
# 4. Set JWT_SECRET_KEY above
# 5. Save file as .env (remove .complete extension)
# 6. Start backend: poetry run uvicorn app.main:app --reload
#
# FOR REGIONAL COMPLIANCE (USA/Canada/Mexico/Brazil):
# - Set DEFAULT_OPERATING_REGION to your primary market
# - USA operations: No additional config needed (works out of box)
# - Canada operations: Configure EROD provider, border crossing APIs
# - Mexico operations: Get SAT credentials + digital certificate
# - Brazil operations: Get SEFAZ credentials + CIOT provider API
# - Multi-currency: Get free exchange rate API key
#
# FOR FULL PRODUCTION:
# - Configure all banking credentials (Synctera, Plaid)
# - Configure notification services (SendGrid, Twilio)
# - Configure billing (Stripe)
# - Generate encryption keys
# - Set production CORS origins
# - Configure regional compliance credentials for your markets
#
# =============================================================================
